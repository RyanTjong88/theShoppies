(this["webpackJsonpthe-shoppies"]=this["webpackJsonpthe-shoppies"]||[]).push([[0],{28:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(3),i=n.n(r),o=n(19),s=n.n(o),c=(n(28),n(5)),u=n(6),l=n(8),d=n(7),h=n(11),p=n(15);n(30);p.a.initializeApp({apiKey:"AIzaSyCvQZTPOKGyCD5KyV5EsX8xpXBkshrmhXI",authDomain:"the-shoppies-6b8ee.firebaseapp.com",projectId:"the-shoppies-6b8ee",storageBucket:"the-shoppies-6b8ee.appspot.com",messagingSenderId:"881448932273",appId:"1:881448932273:web:8f19ae0c0c5da32f01a390"});var m=p.a,v=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={movieArray:[],count:0},e.dbRef=m.database().ref(),e.handleRemove=function(t){e.dbRef.child(t).remove()},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.dbRef.on("value",(function(t){var n=t.val(),a=[];for(var r in n)a.push({key:r,movie:n[r]});e.setState({movieArray:a},(function(){e.state.movieArray.length&&e.setState({count:e.state.movieArray.length})}))}))}},{key:"render",value:function(){var e=this,t=this.state.movieArray.map((function(t){var n=t.movie.nomtitle,r=t.movie.nomyear,i=t.movie.nomid,o=t.key;return Object(a.jsx)("ul",{children:Object(a.jsx)("li",{id:i,children:Object(a.jsxs)("div",{className:"storedMovies",children:[Object(a.jsxs)("p",{children:[n," (",r,")"]}),Object(a.jsx)("button",{onClick:function(){return e.handleRemove(o)},children:"Remove"},o)]})},o)},o)}));return Object(a.jsxs)("div",{className:"nomContainer",children:[5===this.state.count?Object(a.jsxs)("p",{className:"nomCount",children:["You have nominated ",this.state.count," movies"]}):null,t]})}}]),n}(r.Component),b=n(12);function f(){var e=Object(h.a)(["\n    display: flex;\n    justify-content: space-between;\n    width: 100%;\n    \n    div {\n        background-color: rgb(0, 128, 96);\n        padding-top: 20px;\n        ul li {\n            display: flex;\n        }\n    }\n\n    .results {\n        width: 48%;\n        min-height: 600px;\n    }\n"]);return f=function(){return e},e}var j=b.a.div(f()),y=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={firebaseData:{nomtitle:"",nomyear:"",nomid:""},movieArray:[],test:""},e.dbRef=m.database().ref(),e.nominate=function(t){t.preventDefault(),console.log(t.target.attributes.nomtitle.value,t.target.attributes.nomyear.value,t.target.attributes.nomid.value);var n=t.target.attributes.nomtitle.value,a=t.target.attributes.nomyear.value,r=t.target.attributes.nomid.value;e.state.movieArray.map((function(t){return e.setState({test:t.movie.nomid})})),e.setState({firebaseData:{nomtitle:n,nomyear:a,nomid:r}},(function(){e.dbRef.push(e.state.firebaseData)}))},e.checkID=function(t){var n=!1;return"object"===typeof e.state.test&&e.state.test.forEach((function(e){e===t&&(n=!0)})),n},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.dbRef.on("value",(function(t){var n=t.val(),a=[];for(var r in n)a.push({key:r,movie:n[r]});e.setState({movieArray:a});var i=[];e.state.movieArray.map((function(e){return i.push(e.movie.nomid)})),e.setState({test:i})}))}},{key:"render",value:function(){var e=this;console.log(this.state.test);var t=this.props.res.map((function(t){var n=t.Title,r=t.Year,i=t.imdbID,o=e.checkID(i);return Object(a.jsxs)("li",{className:"storedMovies",id:i,children:[Object(a.jsxs)("p",{children:[n," (",r,")"]}),Object(a.jsx)("button",{disabled:o?"t":null,onClick:e.nominate,nomtitle:n,nomyear:r,nomid:i,children:"Nominate"})]},i)}));return Object(a.jsxs)(j,{children:[Object(a.jsx)("div",{className:"results",children:Object(a.jsx)("ul",{children:t})}),Object(a.jsx)(v,{className:"nominations"})]})}}]),n}(r.Component);function O(){var e=Object(h.a)(["\n    padding: 20px;\n    margin: 20px 0;\n    border: 1px solid black;\n"]);return O=function(){return e},e}function x(){var e=Object(h.a)(["\n    padding: 20px;\n    border: 1px solid black;\n\n    form {\n        display: flex;\n        flex-direction: column;\n\n        label {\n            font-weight: 400;\n            font-size: 3rem;\n        }\n\n        input[type=search] {\n            font-family: FontAwesome;\n            font-size: 2rem;\n            margin-top: 10px;\n            padding: 10px;\n        }\n    }\n"]);return x=function(){return e},e}var g=b.a.div(x()),k=b.a.div(O()),S=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={userInput:"",res:[],error:"",loading:"",display:""},e.searchParam=function(t){e.setState({userInput:t.target.value})},e.api=function(t){var n=e.state.userInput;t.preventDefault(),e.setState({res:[]});var a="http://www.omdbapi.com/?s=".concat(n,"&apikey=f33f3c27");fetch(a).then((function(e){return e.json()})).then((function(t){var a=t.Search;a||e.setState({error:"Movie title not found",display:""}),a&&e.setState({res:a,error:"",display:'Results for "'.concat(n,'"')})}))},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state,t=e.userInput,n=e.res,r=e.error,i=e.loading,o=e.display;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(g,{children:Object(a.jsxs)("form",{onSubmit:this.api,children:[Object(a.jsx)("label",{htmlFor:"search",children:"Movie Title"}),Object(a.jsx)("input",{type:"search",id:"search",name:"search",placeholder:"\uf002  Enter Movie",value:t,onChange:this.searchParam,required:!0})]})}),Object(a.jsxs)(k,{className:"resContainer",children:[Object(a.jsxs)("p",{children:[r,i,o]}),Object(a.jsx)(y,{res:n})]})]})}}]),n}(r.Component),w=(n(34),function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"wrapper",children:[Object(a.jsx)("h1",{children:"The Shoppies"}),Object(a.jsx)(S,{})]})})}}]),n}(r.Component)),A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,36)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),i(e),o(e)}))};s.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(w,{})}),document.getElementById("root")),A()}},[[35,1,2]]]);
//# sourceMappingURL=main.9ab5ccbb.chunk.js.map