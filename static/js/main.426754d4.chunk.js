(this["webpackJsonpthe-shoppies"]=this["webpackJsonpthe-shoppies"]||[]).push([[0],{29:function(e,n,t){},35:function(e,n,t){},36:function(e,n,t){"use strict";t.r(n);var r=t(2),a=t(3),i=t.n(a),o=t(20),s=t.n(o),c=(t(29),t(7)),l=t(8),u=t(10),d=t(9),p=t(5),h=t(17),m=t(15);t(31);m.a.initializeApp({apiKey:"AIzaSyCvQZTPOKGyCD5KyV5EsX8xpXBkshrmhXI",authDomain:"the-shoppies-6b8ee.firebaseapp.com",projectId:"the-shoppies-6b8ee",storageBucket:"the-shoppies-6b8ee.appspot.com",messagingSenderId:"881448932273",appId:"1:881448932273:web:8f19ae0c0c5da32f01a390"});var b=m.a,v=t(6);function j(){var e=Object(p.a)(["\n    font-weight: 900;\n    font-size: 2rem;\n    color: #000;\n    padding: 50px;\n"]);return j=function(){return e},e}var f=v.a.div(j()),x=function(e){Object(u.a)(t,e);var n=Object(d.a)(t);function t(){var e;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=n.call.apply(n,[this].concat(a))).state={movieArray:[],count:""},e.dbRef=b.database().ref(),e.handleRemove=function(n,t){e.dbRef.child(n).remove(),e.props.removeId(t)},e}return Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.dbRef.on("value",(function(n){var t=n.val(),r=[];for(var a in t)r.push({key:a,movie:t[a]});e.setState({movieArray:r},(function(){e.state.movieArray.length&&e.setState({count:e.state.movieArray.length})}))}))}},{key:"render",value:function(){var e=this,n=this.state.movieArray.map((function(n){var t=n.movie,a=t.nomtitle,i=t.nomyear,o=t.nomid,s=n.key;return Object(r.jsx)("li",{id:o,children:Object(r.jsxs)("div",{className:"storedMovies",children:[Object(r.jsxs)("p",{children:[a," (",i,")"]}),Object(r.jsx)("button",{onClick:function(){return e.handleRemove(s,o)},children:"Remove"},s)]})},s)}));return Object(r.jsxs)("div",{className:"nomContainer",children:[""===this.state.count?Object(r.jsx)(f,{children:"loading list of nominated movies..."}):null,5===this.state.count?Object(r.jsxs)("p",{className:"nomCount",children:["You have nominated ",this.state.count," movies"]}):null,Object(r.jsx)("ul",{children:n})]})}}]),t}(a.Component);function O(){var e=Object(p.a)(["\n    display: flex;\n    justify-content: space-between;\n    width: 100%;\n    \n    div {\n        background-color: rgb(0, 128, 96);\n        padding-top: 20px;\n        ul li {\n            display: flex;\n        }\n    }\n\n    .results {\n        width: 48%;\n        min-height: 600px;\n    }\n\n    /* TABLET MEDIA QUERY*/\n    @media (max-width: 850px) {\n        flex-direction: column;\n\n        .results {\n            width: 100%;\n        }\n    }\n"]);return O=function(){return e},e}var y=v.a.div(O()),g=function(e){Object(u.a)(t,e);var n=Object(d.a)(t);function t(){var e;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=n.call.apply(n,[this].concat(a))).state={firebaseData:{nomtitle:"",nomyear:"",nomid:""},movieArray:[],movieIds:[]},e.dbRef=b.database().ref(),e.nominate=function(n){n.preventDefault();var t=n.target.attributes.nomtitle.value,r=n.target.attributes.nomyear.value,a=n.target.attributes.nomid.value;e.dbRef.push({nomtitle:t,nomyear:r,nomid:a}).then((function(){e.setState((function(e){return{movieIds:[].concat(Object(h.a)(e.movieIds),[a])}}))}))},e.checkID=function(n){return e.state.movieIds.includes(n)},e.removeId=function(n){var t=Object(h.a)(e.state.movieIds).filter((function(e){return e!==n}));e.setState({movieIds:t})},e}return Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.dbRef.on("value",(function(n){var t=n.val(),r=[];for(var a in t)r.push({key:a,movie:t[a]});e.setState({movieArray:r});var i=[];e.state.movieArray.map((function(e){return i.push(e.movie.nomid)})),e.setState({movieIds:i})}))}},{key:"render",value:function(){var e=this,n=this.props.res.map((function(n){var t=n.Title,a=n.Year,i=n.imdbID,o=e.checkID(i);return Object(r.jsxs)("li",{className:"storedMovies",id:i,children:[Object(r.jsxs)("p",{children:[t," (",a,")"]}),Object(r.jsx)("button",{display:"false",disabled:o,onClick:e.nominate,nomtitle:t,nomyear:a,nomid:i,children:o?"Nominated":"Nominate"})]},i)}));return Object(r.jsxs)(y,{children:[Object(r.jsx)("div",{className:"results",children:Object(r.jsx)("ul",{children:n})}),Object(r.jsx)(x,{className:"nominations",removeId:this.removeId,movieIds:this.state.movieIds})]})}}]),t}(a.Component);function I(){var e=Object(p.a)(["\n    padding: 20px;\n    margin: 20px 0;\n    border: 1px solid black;\n\n    .resultInfo {\n        font-size: 2.5rem;\n        letter-spacing: 2px;\n        color: #000;\n        margin-bottom: 20px;\n    }\n"]);return I=function(){return e},e}function w(){var e=Object(p.a)(["\n    padding: 20px;\n    border: 1px solid black;\n\n    form {\n        display: flex;\n        flex-direction: column;\n\n        label {\n            font-weight: 400;\n            font-size: 2.5rem;\n            letter-spacing: 2px;\n        }\n\n        input[type=search] {\n            font-family: FontAwesome;\n            font-size: 2rem;\n            margin-top: 10px;\n            padding: 5px 10px;\n            transition: all .3s;\n        }\n\n        input[type=search]:hover,\n        input[type=search]:focus {\n            background-color: rgb(0,128,96);\n            color: #FFF;\n        }\n\n        button {\n            width: 120px;\n            margin-top: 10px;\n        }\n    }\n"]);return w=function(){return e},e}var k=v.a.div(w()),S=v.a.div(I()),A=function(e){Object(u.a)(t,e);var n=Object(d.a)(t);function t(){var e;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=n.call.apply(n,[this].concat(a))).state={userInput:"",res:[],error:"",loading:"",display:""},e.searchParam=function(n){e.setState({userInput:n.target.value})},e.api=function(n){var t=e.state.userInput;n.preventDefault(),e.setState({res:[]});var r="https://www.omdbapi.com/?s=".concat(t,"&apikey=f33f3c27");fetch(r).then((function(e){return e.json()})).then((function(n){var r=n.Search;console.log(r),r||e.setState({error:"Movie title not found",display:""}),r&&e.setState({res:r,error:"",display:'Results for "'.concat(t,'"')})}))},e}return Object(l.a)(t,[{key:"render",value:function(){var e=this.state,n=e.userInput,t=e.res,a=e.error,i=e.loading,o=e.display;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(k,{children:Object(r.jsxs)("form",{onSubmit:this.api,children:[Object(r.jsx)("label",{htmlFor:"search",children:"Movie Title"}),Object(r.jsx)("input",{type:"search",id:"search",name:"search",placeholder:"\uf002  Enter Movie",value:n,onChange:this.searchParam,required:!0}),Object(r.jsx)("button",{children:"Search"})]})}),Object(r.jsxs)(S,{className:"resContainer",children:[Object(r.jsxs)("p",{className:"resultInfo",children:[a,i,o]}),Object(r.jsx)(g,{res:t})]})]})}}]),t}(a.Component);function C(){var e=Object(p.a)(["\n    display: flex;\n    justify-content: center;\n    \n    p {\n        background-color: rgb(0, 128, 96);\n        color: #FFF;\n        text-align: center;\n        font-size: 3rem;\n        padding: 20px;\n        width: 100%;\n    }\n\n    a {\n        color: rgb(251, 158, 85);\n    }\n\n    @media (max-width: 420px) {\n        p {\n            font-size: 2rem;\n        }\n    }\n"]);return C=function(){return e},e}var F=v.a.div(C()),N=function(){return Object(r.jsx)(F,{children:Object(r.jsxs)("p",{children:["\xa9 Future Employee of ",Object(r.jsx)("span",{children:Object(r.jsx)("a",{href:"https://www.shopify.ca",children:"Spotify"})})," \ud83d\ude4f ",Object(r.jsx)("span",{children:Object(r.jsx)("a",{href:"http://www.ryantjong.com/",children:"Ryan Tjong's Website"})})]})})},D=(t(35),function(e){Object(u.a)(t,e);var n=Object(d.a)(t);function t(){return Object(c.a)(this,t),n.apply(this,arguments)}return Object(l.a)(t,[{key:"render",value:function(){return Object(r.jsxs)("div",{className:"bodyColor",children:[Object(r.jsxs)("div",{className:"wrapper",children:[Object(r.jsxs)("h1",{children:["The Shoppies",Object(r.jsx)("span",{className:"headerBackground",children:"The Shoppies"})]}),Object(r.jsx)(A,{})]}),Object(r.jsx)(N,{})]})}}]),t}(a.Component)),R=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,37)).then((function(n){var t=n.getCLS,r=n.getFID,a=n.getFCP,i=n.getLCP,o=n.getTTFB;t(e),r(e),a(e),i(e),o(e)}))};s.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(D,{})}),document.getElementById("root")),R()}},[[36,1,2]]]);
//# sourceMappingURL=main.426754d4.chunk.js.map