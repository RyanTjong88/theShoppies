(this["webpackJsonpthe-shoppies"]=this["webpackJsonpthe-shoppies"]||[]).push([[0],{28:function(e,n,t){},34:function(e,n,t){},35:function(e,n,t){"use strict";t.r(n);var a=t(2),r=t(3),i=t.n(r),o=t(19),s=t.n(o),c=(t(28),t(7)),l=t(8),u=t(10),d=t(9),p=t(5),h=t(15);t(30);h.a.initializeApp({apiKey:"AIzaSyCvQZTPOKGyCD5KyV5EsX8xpXBkshrmhXI",authDomain:"the-shoppies-6b8ee.firebaseapp.com",projectId:"the-shoppies-6b8ee",storageBucket:"the-shoppies-6b8ee.appspot.com",messagingSenderId:"881448932273",appId:"1:881448932273:web:8f19ae0c0c5da32f01a390"});var m=h.a,f=t(6);function b(){var e=Object(p.a)(["\n    font-weight: 900;\n    font-size: 2rem;\n    color: #000;\n    padding: 50px;\n"]);return b=function(){return e},e}var j=f.a.div(b()),v=function(e){Object(u.a)(t,e);var n=Object(d.a)(t);function t(){var e;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=n.call.apply(n,[this].concat(r))).state={movieArray:[],count:0},e.dbRef=m.database().ref(),e.handleRemove=function(n){e.dbRef.child(n).remove()},e}return Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.dbRef.on("value",(function(n){var t=n.val(),a=[];for(var r in t)a.push({key:r,movie:t[r]});e.setState({movieArray:a},(function(){e.state.movieArray.length&&e.setState({count:e.state.movieArray.length})}))}))}},{key:"render",value:function(){var e=this,n=this.state.movieArray.map((function(n){var t=n.movie.nomtitle,r=n.movie.nomyear,i=n.movie.nomid,o=n.key;return Object(a.jsx)("li",{id:i,children:Object(a.jsxs)("div",{className:"storedMovies",children:[Object(a.jsxs)("p",{children:[t," (",r,")"]}),Object(a.jsx)("button",{onClick:function(){return e.handleRemove(o)},children:"Remove"},o)]})},o)}));return Object(a.jsxs)("div",{className:"nomContainer",children:[0===this.state.count?Object(a.jsx)(j,{children:"loading list of nominated movies..."}):null,5===this.state.count?Object(a.jsxs)("p",{className:"nomCount",children:["You have nominated ",this.state.count," movies"]}):null,Object(a.jsx)("ul",{children:n})]})}}]),t}(r.Component);function x(){var e=Object(p.a)(["\n    display: flex;\n    justify-content: space-between;\n    width: 100%;\n    \n    div {\n        background-color: rgb(0, 128, 96);\n        padding-top: 20px;\n        ul li {\n            display: flex;\n        }\n    }\n\n    .results {\n        width: 48%;\n        min-height: 600px;\n    }\n\n    /* TABLET MEDIA QUERY*/\n    @media (max-width: 850px) {\n        flex-direction: column;\n\n        .results {\n            width: 100%;\n        }\n    }\n"]);return x=function(){return e},e}var y=f.a.div(x()),O=function(e){Object(u.a)(t,e);var n=Object(d.a)(t);function t(){var e;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=n.call.apply(n,[this].concat(r))).state={firebaseData:{nomtitle:"",nomyear:"",nomid:""},movieArray:[],movieIds:"",nominated:[]},e.dbRef=m.database().ref(),e.nominate=function(n){n.preventDefault(),e.state.nominated.push(n.target.attributes.nomid.value);var t=n.target.attributes.nomtitle.value,a=n.target.attributes.nomyear.value,r=n.target.attributes.nomid.value;e.state.movieIds.push(r),e.setState({firebaseData:{nomtitle:t,nomyear:a,nomid:r}},(function(){e.dbRef.push(e.state.firebaseData)}))},e.checkID=function(n){var t=!1;return"object"===typeof e.state.movieIds&&e.state.movieIds.forEach((function(e){e===n&&(t=!0)})),t},e.checkIDTwo=function(n){var t=!1;return"object"===typeof e.state.nominated&&e.state.nominated.forEach((function(e){e===n&&(t=!0)})),t},e}return Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.dbRef.on("value",(function(n){var t=n.val(),a=[];for(var r in t)a.push({key:r,movie:t[r]});e.setState({movieArray:a});var i=[];e.state.movieArray.map((function(e){return i.push(e.movie.nomid)})),e.setState({movieIds:i})}))}},{key:"render",value:function(){var e=this,n=this.props.res.map((function(n){var t=n.Title,r=n.Year,i=n.imdbID,o=e.checkID(i),s=e.checkIDTwo(i);return Object(a.jsxs)("li",{className:"storedMovies",id:i,children:[Object(a.jsxs)("p",{children:[t," (",r,")"]}),Object(a.jsx)("button",{display:"false",disabled:o||s?"not disabled":null,onClick:e.nominate,nomtitle:t,nomyear:r,nomid:i,children:"Nominate"})]},i)}));return Object(a.jsxs)(y,{children:[Object(a.jsx)("div",{className:"results",children:Object(a.jsx)("ul",{children:n})}),Object(a.jsx)(v,{className:"nominations"})]})}}]),t}(r.Component);function g(){var e=Object(p.a)(["\n    padding: 20px;\n    margin: 20px 0;\n    border: 1px solid black;\n\n    .resultInfo {\n        font-size: 2.5rem;\n        letter-spacing: 2px;\n        color: #000;\n        margin-bottom: 20px;\n    }\n"]);return g=function(){return e},e}function w(){var e=Object(p.a)(["\n    padding: 20px;\n    border: 1px solid black;\n\n    form {\n        display: flex;\n        flex-direction: column;\n\n        label {\n            font-weight: 400;\n            font-size: 2.5rem;\n            letter-spacing: 2px;\n        }\n\n        input[type=search] {\n            font-family: FontAwesome;\n            font-size: 2rem;\n            margin-top: 10px;\n            padding: 5px 10px;\n            transition: all .3s;\n        }\n\n        input[type=search]:hover,\n        input[type=search]:focus {\n            background-color: rgb(0,128,96);\n            color: #FFF;\n        }\n    }\n"]);return w=function(){return e},e}var k=f.a.div(w()),I=f.a.div(g()),S=function(e){Object(u.a)(t,e);var n=Object(d.a)(t);function t(){var e;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=n.call.apply(n,[this].concat(r))).state={userInput:"",res:[],error:"",loading:"",display:""},e.searchParam=function(n){e.setState({userInput:n.target.value})},e.api=function(n){var t=e.state.userInput;n.preventDefault(),e.setState({res:[]});var a="https://www.omdbapi.com/?s=".concat(t,"&apikey=f33f3c27");fetch(a).then((function(e){return e.json()})).then((function(n){var a=n.Search;a||e.setState({error:"Movie title not found",display:""}),a&&e.setState({res:a,error:"",display:'Results for "'.concat(t,'"')})}))},e}return Object(l.a)(t,[{key:"render",value:function(){var e=this.state,n=e.userInput,t=e.res,r=e.error,i=e.loading,o=e.display;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(k,{children:Object(a.jsxs)("form",{onSubmit:this.api,children:[Object(a.jsx)("label",{htmlFor:"search",children:"Movie Title"}),Object(a.jsx)("input",{type:"search",id:"search",name:"search",placeholder:"\uf002  Enter Movie",value:n,onChange:this.searchParam,required:!0})]})}),Object(a.jsxs)(I,{className:"resContainer",children:[Object(a.jsxs)("p",{className:"resultInfo",children:[r,i,o]}),Object(a.jsx)(O,{res:t})]})]})}}]),t}(r.Component);function A(){var e=Object(p.a)(["\n    display: flex;\n    justify-content: center;\n    \n    p {\n        background-color: rgb(0, 128, 96);\n        color: #FFF;\n        text-align: center;\n        font-size: 3rem;\n        padding: 20px;\n        width: 100%;\n    }\n\n    a {\n        color: rgb(251, 158, 85);\n    }\n\n    @media (max-width: 420px) {\n        p {\n            font-size: 2rem;\n        }\n    }\n"]);return A=function(){return e},e}var C=f.a.div(A()),D=function(){return Object(a.jsx)(C,{children:Object(a.jsxs)("p",{children:["\xa9 Future Employee of ",Object(a.jsx)("span",{children:Object(a.jsx)("a",{href:"https://www.shopify.ca",children:"Spotify"})})," \ud83d\ude4f ",Object(a.jsx)("span",{children:Object(a.jsx)("a",{href:"http://www.ryantjong.com/",children:"Ryan Tjong's Website"})})]})})},F=(t(34),function(e){Object(u.a)(t,e);var n=Object(d.a)(t);function t(){return Object(c.a)(this,t),n.apply(this,arguments)}return Object(l.a)(t,[{key:"render",value:function(){return Object(a.jsxs)("div",{className:"bodyColor",children:[Object(a.jsxs)("div",{className:"wrapper",children:[Object(a.jsxs)("h1",{children:["The Shoppies",Object(a.jsx)("span",{className:"headerBackground",children:"The Shoppies"})]}),Object(a.jsx)(S,{})]}),Object(a.jsx)(D,{})]})}}]),t}(r.Component)),N=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,36)).then((function(n){var t=n.getCLS,a=n.getFID,r=n.getFCP,i=n.getLCP,o=n.getTTFB;t(e),a(e),r(e),i(e),o(e)}))};s.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(F,{})}),document.getElementById("root")),N()}},[[35,1,2]]]);
//# sourceMappingURL=main.c7a07d82.chunk.js.map