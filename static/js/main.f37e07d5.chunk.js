(this["webpackJsonpthe-shoppies"]=this["webpackJsonpthe-shoppies"]||[]).push([[0],{28:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n(3),i=n.n(a),o=n(19),s=n.n(o),c=(n(28),n(5)),l=n(6),u=n(8),d=n(7),p=n(9),h=n(15);n(30);h.a.initializeApp({apiKey:"AIzaSyCvQZTPOKGyCD5KyV5EsX8xpXBkshrmhXI",authDomain:"the-shoppies-6b8ee.firebaseapp.com",projectId:"the-shoppies-6b8ee",storageBucket:"the-shoppies-6b8ee.appspot.com",messagingSenderId:"881448932273",appId:"1:881448932273:web:8f19ae0c0c5da32f01a390"});var m=h.a,b=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={movieArray:[],count:0},e.dbRef=m.database().ref(),e.handleRemove=function(t){e.dbRef.child(t).remove()},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.dbRef.on("value",(function(t){var n=t.val(),r=[];for(var a in n)r.push({key:a,movie:n[a]});e.setState({movieArray:r},(function(){e.state.movieArray.length&&e.setState({count:e.state.movieArray.length})}))}))}},{key:"render",value:function(){var e=this,t=this.state.movieArray.map((function(t){var n=t.movie.nomtitle,a=t.movie.nomyear,i=t.movie.nomid,o=t.key;return Object(r.jsx)("ul",{children:Object(r.jsx)("li",{id:i,children:Object(r.jsxs)("div",{className:"storedMovies",children:[Object(r.jsxs)("p",{children:[n," (",a,")"]}),Object(r.jsx)("button",{onClick:function(){return e.handleRemove(o)},children:"Remove"},o)]})},o)},o)}));return Object(r.jsxs)("div",{className:"nomContainer",children:[5===this.state.count?Object(r.jsxs)("p",{className:"nomCount",children:["You have nominated ",this.state.count," movies"]}):null,t]})}}]),n}(a.Component),v=n(10);function f(){var e=Object(p.a)(["\n    display: flex;\n    justify-content: space-between;\n    width: 100%;\n    \n    div {\n        background-color: rgb(0, 128, 96);\n        padding-top: 20px;\n        ul li {\n            display: flex;\n        }\n    }\n\n    .results {\n        width: 48%;\n        min-height: 600px;\n    }\n\n    /* TABLET MEDIA QUERY*/\n    @media (max-width: 850px) {\n        flex-direction: column;\n\n        .results {\n            width: 100%;\n        }\n    }\n"]);return f=function(){return e},e}var j=v.a.div(f()),x=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={firebaseData:{nomtitle:"",nomyear:"",nomid:""},movieArray:[],movieIds:""},e.dbRef=m.database().ref(),e.nominate=function(t){t.preventDefault(),console.log(t.target.attributes.nomtitle.value,t.target.attributes.nomyear.value,t.target.attributes.nomid.value);var n=t.target.attributes.nomtitle.value,r=t.target.attributes.nomyear.value,a=t.target.attributes.nomid.value;e.state.movieArray.map((function(t){return e.setState({movieIds:t.movie.nomid})})),e.setState({firebaseData:{nomtitle:n,nomyear:r,nomid:a}},(function(){e.dbRef.push(e.state.firebaseData)}))},e.checkID=function(t){var n=!1;return"object"===typeof e.state.movieIds&&e.state.movieIds.forEach((function(e){e===t&&(n=!0)})),n},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.dbRef.on("value",(function(t){var n=t.val(),r=[];for(var a in n)r.push({key:a,movie:n[a]});e.setState({movieArray:r});var i=[];e.state.movieArray.map((function(e){return i.push(e.movie.nomid)})),e.setState({movieIds:i})}))}},{key:"render",value:function(){var e=this,t=this.props.res.map((function(t){var n=t.Title,a=t.Year,i=t.imdbID,o=e.checkID(i);return Object(r.jsxs)("li",{className:"storedMovies",id:i,children:[Object(r.jsxs)("p",{children:[n," (",a,")"]}),Object(r.jsx)("button",{disabled:o?"t":null,onClick:e.nominate,nomtitle:n,nomyear:a,nomid:i,children:"Nominate"})]},i)}));return Object(r.jsxs)(j,{children:[Object(r.jsx)("div",{className:"results",children:Object(r.jsx)("ul",{children:t})}),Object(r.jsx)(b,{className:"nominations"})]})}}]),n}(a.Component);function y(){var e=Object(p.a)(["\n    padding: 20px;\n    margin: 20px 0;\n    border: 1px solid black;\n\n    .resultInfo {\n        font-size: 2.5rem;\n        letter-spacing: 2px;\n        color: #000;\n        margin-bottom: 20px;\n    }\n"]);return y=function(){return e},e}function O(){var e=Object(p.a)(["\n    padding: 20px;\n    border: 1px solid black;\n\n    form {\n        display: flex;\n        flex-direction: column;\n\n        label {\n            font-weight: 400;\n            font-size: 2.5rem;\n            letter-spacing: 2px;\n        }\n\n        input[type=search] {\n            font-family: FontAwesome;\n            font-size: 2rem;\n            margin-top: 10px;\n            padding: 5px 10px;\n            transition: all .3s;\n        }\n\n        input[type=search]:hover,\n        input[type=search]:focus {\n            background-color: rgb(0,128,96);\n            color: #FFF;\n        }\n    }\n"]);return O=function(){return e},e}var g=v.a.div(O()),w=v.a.div(y()),k=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={userInput:"",res:[],error:"",loading:"",display:""},e.searchParam=function(t){e.setState({userInput:t.target.value})},e.api=function(t){var n=e.state.userInput;t.preventDefault(),e.setState({res:[]});var r="https://www.omdbapi.com/?s=".concat(n,"&apikey=f33f3c27");fetch(r).then((function(e){return e.json()})).then((function(t){var r=t.Search;r||e.setState({error:"Movie title not found",display:""}),r&&e.setState({res:r,error:"",display:'Results for "'.concat(n,'"')})}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state,t=e.userInput,n=e.res,a=e.error,i=e.loading,o=e.display;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(g,{children:Object(r.jsxs)("form",{onSubmit:this.api,children:[Object(r.jsx)("label",{htmlFor:"search",children:"Movie Title"}),Object(r.jsx)("input",{type:"search",id:"search",name:"search",placeholder:"\uf002  Enter Movie",value:t,onChange:this.searchParam,required:!0})]})}),Object(r.jsxs)(w,{className:"resContainer",children:[Object(r.jsxs)("p",{className:"resultInfo",children:[a,i,o]}),Object(r.jsx)(x,{res:n})]})]})}}]),n}(a.Component);function I(){var e=Object(p.a)(["\n    display: flex;\n    justify-content: center;\n    \n    p {\n        background-color: rgb(0, 128, 96);\n        color: #FFF;\n        text-align: center;\n        font-size: 3rem;\n        padding: 20px;\n        width: 100%;\n    }\n\n    a {\n        color: rgb(251, 158, 85);\n    }\n\n    @media (max-width: 420px) {\n        p {\n            font-size: 2rem;\n        }\n    }\n"]);return I=function(){return e},e}var S=v.a.div(I()),A=function(){return Object(r.jsx)(S,{children:Object(r.jsxs)("p",{children:["\xa9 Future Employee of ",Object(r.jsx)("span",{children:Object(r.jsx)("a",{href:"https://www.shopify.ca",children:"Spotify"})})," \ud83d\ude4f ",Object(r.jsx)("span",{children:Object(r.jsx)("a",{href:"http://www.ryantjong.com/",children:"Ryan Tjong's Website"})})]})})},C=(n(34),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(r.jsxs)("div",{className:"bodyColor",children:[Object(r.jsxs)("div",{className:"wrapper",children:[Object(r.jsx)("h1",{children:"The Shoppies"}),Object(r.jsx)(k,{})]}),Object(r.jsx)(A,{})]})}}]),n}(a.Component)),D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,36)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),i(e),o(e)}))};s.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(C,{})}),document.getElementById("root")),D()}},[[35,1,2]]]);
//# sourceMappingURL=main.f37e07d5.chunk.js.map