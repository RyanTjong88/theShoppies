(this["webpackJsonpthe-shoppies"]=this["webpackJsonpthe-shoppies"]||[]).push([[0],{32:function(e,n,t){},38:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var r=t(1),i=t(3),a=t.n(i),o=t(22),s=t.n(o),c=(t(32),t(7)),l=t(8),d=t(10),u=t(9),p=t(4),h=t(19),m=t(17);t(33);m.a.initializeApp({apiKey:"AIzaSyCvQZTPOKGyCD5KyV5EsX8xpXBkshrmhXI",authDomain:"the-shoppies-6b8ee.firebaseapp.com",projectId:"the-shoppies-6b8ee",storageBucket:"the-shoppies-6b8ee.appspot.com",messagingSenderId:"881448932273",appId:"1:881448932273:web:8f19ae0c0c5da32f01a390"});var j=m.a,b=t(5);function f(){var e=Object(p.a)(["\n    font-weight: 900;\n    font-size: 3rem;\n    color: #000;\n    padding: 10px;\n    text-align: center;\n    letter-spacing: 2.5px;\n"]);return f=function(){return e},e}function v(){var e=Object(p.a)(["\n    font-weight: 900;\n    font-size: 2rem;\n    color: #000;\n    padding: 50px;\n    \n    .hide {\n        display: none;\n    }\n"]);return v=function(){return e},e}var x=b.a.div(v()),O=b.a.p(f()),g=function(e){Object(d.a)(t,e);var n=Object(u.a)(t);function t(){var e;Object(c.a)(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=n.call.apply(n,[this].concat(i))).state={movieArray:[],count:"",hide:""},e.dbRef=j.database().ref(),e.handleRemove=function(n,t){e.dbRef.child(n).remove(),e.props.removeId(t)},e.addHide=function(){""===e.state.count&&setTimeout((function(){e.setState({hide:"hide"})}),3e3)},e}return Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.dbRef.on("value",(function(n){var t=n.val(),r=[];for(var i in t)r.push({key:i,movie:t[i]});e.setState({movieArray:r},(function(){e.state.movieArray.length&&e.setState({count:e.state.movieArray.length})}))}))}},{key:"render",value:function(){var e=this;this.addHide();var n=this.state.movieArray.map((function(n){var t=n.movie,i=t.nomtitle,a=t.nomyear,o=t.nomid,s=t.nomposter,c=n.key;return Object(r.jsx)("li",{id:o,children:Object(r.jsxs)("div",{className:"nominated",children:[Object(r.jsx)("img",{src:s}),Object(r.jsxs)("p",{className:"nomInfo",children:[i," (",a,")"]}),Object(r.jsx)("button",{onClick:function(){return e.handleRemove(c,o)},children:"Remove"},c)]})},c)}));return Object(r.jsxs)("div",{className:"nomContainer",children:[Object(r.jsx)(O,{children:"Nomination List"}),""===this.state.count?Object(r.jsx)(x,{children:Object(r.jsx)("p",{className:this.state.hide,children:"loading list of nominated movies..."})}):null,5===this.state.count?Object(r.jsxs)("p",{className:"nomCount",children:["You have nominated ",this.state.count," movies"]}):null,Object(r.jsx)("ul",{children:n})]})}}]),t}(i.Component),y=t(26),I=t.n(y);function w(){var e=Object(p.a)(["\n    display: flex;\n    justify-content: space-between;\n    width: 100%;\n    \n    div {\n        background-color: rgb(0, 128, 96);\n        padding-top: 20px;\n        ul li {\n            display: flex;\n        }\n    }\n\n    .results {\n        width: 48%;\n        min-height: 600px;\n    }\n\n    img {\n        width: 150px;\n        margin: 10px 0;\n    }\n\n    /* TABLET MEDIA QUERY*/\n    @media (max-width: 850px) {\n        flex-direction: column;\n\n        .results {\n            width: 100%;\n        }\n    }\n"]);return w=function(){return e},e}var k=b.a.div(w()),S=function(e){Object(d.a)(t,e);var n=Object(u.a)(t);function t(){var e;Object(c.a)(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=n.call.apply(n,[this].concat(i))).state={firebaseData:{nomtitle:"",nomyear:"",nomid:"",nomposter:""},movieArray:[],movieIds:[]},e.dbRef=j.database().ref(),e.nominate=function(n){n.preventDefault();var t=n.target.attributes.nomtitle.value,r=n.target.attributes.nomyear.value,i=n.target.attributes.nomid.value,a=n.target.attributes.nomposter.value;e.state.movieIds.length<5&&e.dbRef.push({nomtitle:t,nomyear:r,nomid:i,nomposter:a}).then((function(){e.setState((function(e){return{movieIds:[].concat(Object(h.a)(e.movieIds),[i])}}))})),5===e.state.movieIds.length&&I()({title:"Nomination limit reached! Remove to add a different Movie",icon:"error",button:"OK"})},e.checkID=function(n){return e.state.movieIds.includes(n)},e.removeId=function(n){var t=Object(h.a)(e.state.movieIds).filter((function(e){return e!==n}));e.setState({movieIds:t})},e}return Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.dbRef.on("value",(function(n){var t=n.val(),r=[];for(var i in t)r.push({key:i,movie:t[i]});e.setState({movieArray:r});var a=[];e.state.movieArray.map((function(e){return a.push(e.movie.nomid)})),e.setState({movieIds:a})}))}},{key:"render",value:function(){var e=this,n=this.props.res.map((function(n){var t=n.Title,i=n.Year,a=n.imdbID,o=n.Poster,s=e.checkID(a);return Object(r.jsxs)("li",{className:"movies",id:a,children:[Object(r.jsxs)("p",{children:[t," (",i,")"]}),Object(r.jsx)("img",{src:o}),Object(r.jsx)("button",{display:"false",disabled:s,onClick:e.nominate,nomtitle:t,nomyear:i,nomid:a,nomposter:o,children:s?"Nominated":"Nominate"})]},a)}));return Object(r.jsxs)(k,{children:[Object(r.jsx)("div",{className:"results",children:Object(r.jsx)("ul",{children:n})}),Object(r.jsx)(g,{className:"nominations",removeId:this.removeId,movieIds:this.state.movieIds})]})}}]),t}(i.Component);function N(){var e=Object(p.a)(["\n    padding: 20px;\n    margin: 20px 0;\n    border: 1px solid black;\n\n    .resultInfo {\n        font-size: 2.5rem;\n        letter-spacing: 2px;\n        color: #000;\n        margin-bottom: 20px;\n    }\n"]);return N=function(){return e},e}function A(){var e=Object(p.a)(["\n    padding: 20px;\n    border: 1px solid black;\n\n    form {\n        display: flex;\n        flex-direction: column;\n\n        label {\n            font-weight: 400;\n            font-size: 2.5rem;\n            letter-spacing: 2px;\n        }\n\n        input[type=search] {\n            font-family: FontAwesome;\n            font-size: 2rem;\n            margin-top: 10px;\n            padding: 5px 10px;\n            transition: all .3s;\n        }\n\n        input[type=search]:hover,\n        input[type=search]:focus {\n            background-color: rgb(0,128,96);\n            color: #FFF;\n        }\n\n        button {\n            width: 120px;\n            margin-top: 10px;\n        }\n    }\n"]);return A=function(){return e},e}var C=b.a.div(A()),F=b.a.div(N()),R=function(e){Object(d.a)(t,e);var n=Object(u.a)(t);function t(){var e;Object(c.a)(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=n.call.apply(n,[this].concat(i))).state={userInput:"",res:[],error:"",loading:"",display:""},e.searchParam=function(n){e.setState({userInput:n.target.value})},e.api=function(n){var t=e.state.userInput;n.preventDefault(),e.setState({res:[]});var r="https://www.omdbapi.com/?s=".concat(t,"&apikey=f33f3c27");fetch(r).then((function(e){return e.json()})).then((function(n){var r=n.Search;r||e.setState({error:"Movie title not found",display:""}),r&&e.setState({res:r,error:"",display:'Results for "'.concat(t,'"')})}))},e}return Object(l.a)(t,[{key:"render",value:function(){var e=this.state,n=e.userInput,t=e.res,i=e.error,a=e.loading,o=e.display;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(C,{children:Object(r.jsxs)("form",{onSubmit:this.api,children:[Object(r.jsx)("label",{htmlFor:"search",children:"Enter the Movie Title"}),Object(r.jsx)("input",{type:"search",id:"search",name:"search",placeholder:"\uf002  Enter Movie",value:n,onChange:this.searchParam,required:!0}),Object(r.jsx)("button",{children:"Search"})]})}),Object(r.jsxs)(F,{className:"resContainer",children:[Object(r.jsxs)("p",{className:"resultInfo",children:[i,a,o]}),Object(r.jsx)(S,{res:t})]})]})}}]),t}(i.Component);function D(){var e=Object(p.a)(["\n    display: flex;\n    justify-content: center;\n    \n    p {\n        background-color: rgb(0, 128, 96);\n        color: #FFF;\n        text-align: center;\n        font-size: 3rem;\n        padding: 20px;\n        width: 100%;\n    }\n\n    a {\n        color: rgb(251, 158, 85);\n    }\n\n    @media (max-width: 420px) {\n        p {\n            font-size: 2rem;\n        }\n    }\n"]);return D=function(){return e},e}var T=b.a.div(D()),z=function(){return Object(r.jsx)(T,{children:Object(r.jsxs)("p",{children:["\xa9 Future Employee of ",Object(r.jsx)("span",{children:Object(r.jsx)("a",{href:"https://www.shopify.ca",children:"Spotify"})})," \ud83d\ude4f ",Object(r.jsx)("span",{children:Object(r.jsx)("a",{href:"http://www.ryantjong.com/",children:"Ryan Tjong's Website"})})]})})},E=(t(38),function(e){Object(d.a)(t,e);var n=Object(u.a)(t);function t(){return Object(c.a)(this,t),n.apply(this,arguments)}return Object(l.a)(t,[{key:"render",value:function(){return Object(r.jsxs)("div",{className:"bodyColor",children:[Object(r.jsxs)("div",{className:"wrapper",children:[Object(r.jsxs)("h1",{children:["The Shoppies",Object(r.jsx)("span",{className:"headerBackground",children:"The Shoppies"})]}),Object(r.jsx)(R,{})]}),Object(r.jsx)(z,{})]})}}]),t}(i.Component)),M=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,40)).then((function(n){var t=n.getCLS,r=n.getFID,i=n.getFCP,a=n.getLCP,o=n.getTTFB;t(e),r(e),i(e),a(e),o(e)}))};s.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(E,{})}),document.getElementById("root")),M()}},[[39,1,2]]]);
//# sourceMappingURL=main.a9d1156a.chunk.js.map